{"title":"javaScript(一)","date":"2020-03-29T16:56:58.000Z","date_formatted":{"ll":"Mar 29, 2020","L":"03/29/2020","MM-DD":"03-29"},"link":"2020/03/29/javaScript-一","updated":"2022-01-22T09:45:40.642Z","content":"<ul><li><h4>把多个JavaScript函数绑定到onload时间处理函数上</h4></li></ul>\n<p>假设我有两个函数：firstFunction()和secondFunction()。如果我想让他们俩都在页面加载时得到执行，我该怎么办？如果把他们逐一绑定到onload事件上，他们当中将只有最后那个被执行：</p>\n<pre>\n<code>window.onload = firstFunction;</code>\n<code>window.onload = scondFunction;</code>\n</pre>\nsecondFunction将取代firstFunction。所以得出结论：每个事件处理函数只能绑定一条指令\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">addLoadEvent</span>(<span class=\"params\">func</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> oldload = <span class=\"variable language_\">window</span>.<span class=\"property\">onload</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"variable language_\">window</span>.<span class=\"property\">onload</span> != <span class=\"string\">&#x27;function&#x27;</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"property\">onload</span> = fnc;</span><br><span class=\"line\">  &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">      <span class=\"title function_\">oldonload</span>();</span><br><span class=\"line\">      <span class=\"title function_\">func</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>\n这相当于把那些将在页面加载完毕时执行的函数创建为一个队列。如果想把刚才那两个函数添加到这个队列里去，只需要写如下代码：\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">addLoadEvent</span>(firstFunction)</span><br><span class=\"line\"><span class=\"title function_\">addLoadEvent</span>(secondFunction)</span><br></pre></td></tr></table></figure>\n---未完待续\n","prev":{"title":"Ajax交互总结","link":"2020/03/30/Ajax交互总结"},"next":{"title":"http状态码","link":"2020/03/29/http状态码"},"plink":"https://edsion11.github.io/2020/03/29/javaScript-一/","toc":[{"id":"","title":"把多个JavaScript函数绑定到onload时间处理函数上","index":"1"}],"copyright":{"author":"Edsion Gu","link":"<a href=\"https://edsion11.github.io/2020/03/29/javaScript-一/\" title=\"javaScript(一)\">https://edsion11.github.io/2020/03/29/javaScript-一/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}